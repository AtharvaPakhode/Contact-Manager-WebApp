<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::layout(~{::section})">
<head>
    <meta charset="UTF-8">
    <title>Show Contact Details</title>
</head>
<body>

<section>

    <!-- Main Content Area for User Dashboard -->
    <div class="content-area-user-dashboard">

        <!-- Sidebar Toggle Button -->
        <span>
            <i onclick="toggleSideBar()" class="fa fa-sign-in toggle-button in-button" style="font-size:20px;color:black"></i>
        </span>

        <!-- SIDE BAR -->
        <div id="sidebarMenu" class="sidebar bg-white">
            <!-- Close button to hide the sidebar -->
            <span onclick="toggleSideBar()" class="crsbtn">
                <i class="fa fa-close" style="font-size:18px"></i>
            </span>

            <!-- Sticky position for sidebar items -->
            <div class="position-sticky">

                <!-- Sidebar menu items -->
                <div class="list-group list-group-flush mx-3 mt-4">

                    <!-- Dashboard link -->
                    <a th:href="@{/user/index}" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                        <i class="fas fa-tachometer-alt fa-fw me-3"></i><span>Dashboard</span>
                    </a>

                    <!-- Add Contact link -->
                    <a th:href="@{/user/add-contact}" class="list-group-item list-group-item-action py-2 ripple">
                        <i class="fas fa-user-plus fa-fw me-3"></i><span>Add Contact</span>
                    </a>

                    <!-- View Contacts link -->
                    <a th:href="@{/user/view-contact/0}" class="list-group-item list-group-item-action py-2 ripple">
                        <i class="fas fa-address-card fa-fw me-3"></i><span>View Contacts</span>
                    </a>

                    <!-- Profile link (currently inactive) -->
                    <a th:href="@{/user/profile}" class="list-group-item list-group-item-action py-2 ripple">
                        <i class="fas fa-user-circle fa-fw me-3"></i><span>Profile</span>
                    </a>

                    <!-- Logout link -->
                    <a th:href="@{/logout}" class="list-group-item list-group-item-action py-2 ripple">
                        <i class="fas fa-sign-out-alt fa-fw me-3"></i><span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
        <!-- END SIDE BAR -->

        <!-- Display Contact Details if Contact Exists -->
        <div th:if="${contact}" class="card text-center">
            <div class="card-body text-center">

                <!-- Profile Image and Contact Name -->
                <div class="text-center">
                    <div>
                        <img class="profile-image-details" th:src="@{'/contact_images/' + ${contact.contact_image}}" alt="Profile image"/>
                    </div>

                    <div>
                        <h3 style="margin-top:20px;" th:text="${contact.contact_name}"> </h3>
                    </div>
                </div>

                <!-- Section for Contact Details Heading -->
                <div style="margin-top:40px; font-size:large; font-weight:bold;" class="text-center">
                    Contact Details
                </div>

                <!-- Contact Information Table -->
                <div style="margin-top:40px;" class="text-center table-responsive">
                    <table class="table  table-striped">
                        <tbody>
                        <!-- Displaying Contact's ID -->
                        <tr>
                            <th scope="row" style="text-align: left; padding-left: 200px;">ID</th>
                            <td th:text="${contact.contact_id}" style="text-align: left; padding-left: 400px;"></td>
                        </tr>

                        <!-- Displaying Contact's Name -->
                        <tr>
                            <th scope="row" style="text-align: left; padding-left: 200px;">Name</th>
                            <td th:text="${contact.contact_name}" style="text-align: left; padding-left: 400px;"></td>
                        </tr>

                        <tr>
                            <th scope="row" style="text-align: left; padding-left: 200px;">Nickname</th>
                            <td th:text="${contact.contact_nickname}" style="text-align: left; padding-left: 400px;"></td>
                        </tr>

                        <!-- Displaying Contact's Email -->
                        <tr>
                            <th scope="row" style="text-align: left; padding-left: 200px;">Email</th>
                            <td th:text="${contact.contact_email}" style="text-align: left; padding-left: 400px;"></td>
                        </tr>

                        <!-- Displaying Contact's Phone Number -->
                        <tr>
                            <th scope="row" style="text-align: left; padding-left: 200px;">Phone</th>
                            <td th:text="${contact.phone_number}" style="text-align: left; padding-left: 400px;"></td>
                        </tr>

                        <!-- Displaying Contact's Work Information -->
                        <tr>
                            <th scope="row" style="text-align: left; padding-left: 200px;">Work</th>
                            <td th:text="${contact.contact_work}" style="text-align: left; padding-left: 400px;"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <!-- About Contact Section -->
                <div class="card w-auto text-center" style="margin-top:40px;">
                    <div class="card-body">
                        <h5 class="card-title" style="font-size: large; font-weight: bold;">About Contact</h5>
                        <p th:text="${contact.about_contact}" class="card-text"></p>
                    </div>
                </div>

            </div>
        </div>

        <!-- Error Message if No Contact Found or User Lacks Permissions -->
        <div th:unless="${contact}" class="card">
            <div class="card-body text-center">
                <div class="alert alert-danger" role="alert">
                    <i class="fa fa-close"></i>
                    You don't have permission to view this contact.
                </div>
            </div>
        </div>

    </div>
</section>

</body>
</html>
